var abi=
[ { "inputs": [ { "internalType": "address payable", "name": "_chairperson", "type": "address" }, { "internalType": "uint256", "name": "_runTime", "type": "uint256" }, { "internalType": "uint256", "name": "_bidTime", "type": "uint256" } ], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "uint256", "name": "value", "type": "uint256" } ], "name": "Debug", "type": "event" }, { "anonymous": false, "inputs": [ { "indexed": false, "internalType": "address payable", "name": "winner", "type": "address" }, { "indexed": false, "internalType": "uint256", "name": "payout", "type": "uint256" } ], "name": "Payout", "type": "event" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "stockValue", "type": "uint256" } ], "name": "bettingEnd", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "bidValue", "type": "uint256" } ], "name": "bid", "outputs": [], "payable": true, "stateMutability": "payable", "type": "function" }, { "constant": true, "inputs": [], "name": "bidEndTime", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "name": "bids", "outputs": [ { "internalType": "address payable", "name": "account", "type": "address" }, { "internalType": "uint256", "name": "bid", "type": "uint256" }, { "internalType": "uint256", "name": "amount", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "chairperson", "outputs": [ { "internalType": "address payable", "name": "", "type": "address" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "internalType": "address payable", "name": "addr", "type": "address" } ], "name": "getBalance", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [ { "internalType": "address payable", "name": "bider", "type": "address" } ], "name": "getBidofAccount", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "runEndTime", "outputs": [ { "internalType": "uint256", "name": "", "type": "uint256" } ], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_newbidEndTime", "type": "uint256" } ], "name": "setbidEndTime", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": false, "inputs": [ { "internalType": "uint256", "name": "_newrunEndTime", "type": "uint256" } ], "name": "setrunEndTime", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" } ]

var ko_abi= [	{		"constant": false,		"inputs": [],		"name": "buyShare",		"outputs": [],		"payable": true,		"stateMutability": "payable",		"type": "function"	},	{		"inputs": [			{				"internalType": "address payable",				"name": "_chairperson",				"type": "address"			},			{				"internalType": "uint256",				"name": "_knock_out_threshold",				"type": "uint256"			},			{				"internalType": "uint256",				"name": "_leverage",				"type": "uint256"			},			{				"internalType": "uint256",				"name": "_startPrice",				"type": "uint256"			},			{				"internalType": "uint256",				"name": "_runTime",				"type": "uint256"			},			{				"internalType": "bool",				"name": "_isPut",				"type": "bool"			}		],		"payable": true,		"stateMutability": "payable",		"type": "constructor"	},	{		"anonymous": false,		"inputs": [			{				"indexed": false,				"internalType": "address",				"name": "terminatorAddress",				"type": "address"			}		],		"name": "ContractEnded_ev",		"type": "event"	},	{		"constant": false,		"inputs": [],		"name": "endContract",		"outputs": [],		"payable": false,		"stateMutability": "nonpayable",		"type": "function"	},	{		"anonymous": false,		"inputs": [			{				"indexed": false,				"internalType": "uint256",				"name": "stockValue",				"type": "uint256"			}		],		"name": "KnockOut_ev",		"type": "event"	},	{		"constant": false,		"inputs": [],		"name": "retractContract",		"outputs": [],		"payable": false,		"stateMutability": "nonpayable",		"type": "function"	},	{		"constant": false,		"inputs": [],		"name": "sellShare",		"outputs": [],		"payable": true,		"stateMutability": "payable",		"type": "function"	},	{		"constant": false,		"inputs": [			{				"internalType": "uint256",				"name": "_newrunEndTime",				"type": "uint256"			}		],		"name": "setrunEndTime",		"outputs": [],		"payable": false,		"stateMutability": "nonpayable",		"type": "function"	},	{		"anonymous": false,		"inputs": [			{				"indexed": false,				"internalType": "address payable",				"name": "shareHolderAddress",				"type": "address"			},			{				"indexed": false,				"internalType": "uint256",				"name": "amount",				"type": "uint256"			}		],		"name": "ShareBought_ev",		"type": "event"	},	{		"anonymous": false,		"inputs": [			{				"indexed": false,				"internalType": "address payable",				"name": "shareHolderAddress",				"type": "address"			},			{				"indexed": false,				"internalType": "uint256",				"name": "amount",				"type": "uint256"			}		],		"name": "ShareSold_ev",		"type": "event"	},	{		"constant": false,		"inputs": [			{				"internalType": "uint256",				"name": "_minimum",				"type": "uint256"			},			{				"internalType": "uint256",				"name": "_closing_price",				"type": "uint256"			}		],		"name": "update",		"outputs": [],		"payable": true,		"stateMutability": "payable",		"type": "function"	},	{		"constant": false,		"inputs": [],		"name": "withdraw",		"outputs": [			{				"internalType": "bool",				"name": "",				"type": "bool"			}		],		"payable": false,		"stateMutability": "nonpayable",		"type": "function"	},	{		"constant": true,		"inputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"name": "activeShareHolder",		"outputs": [			{				"internalType": "address payable",				"name": "account",				"type": "address"			},			{				"internalType": "uint256",				"name": "amount",				"type": "uint256"			},			{				"internalType": "uint256",				"name": "buying_closing_price",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "chairperson",		"outputs": [			{				"internalType": "address payable",				"name": "",				"type": "address"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "contractCreator",		"outputs": [			{				"internalType": "address payable",				"name": "",				"type": "address"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "ended",		"outputs": [			{				"internalType": "bool",				"name": "",				"type": "bool"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "isPut",		"outputs": [			{				"internalType": "bool",				"name": "",				"type": "bool"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "knock_out_threshold",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "last_closing_price",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "leverage",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [			{				"internalType": "address",				"name": "",				"type": "address"			}		],		"name": "pendingReturns",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "pot",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	},	{		"constant": true,		"inputs": [],		"name": "runEndTime",		"outputs": [			{				"internalType": "uint256",				"name": "",				"type": "uint256"			}		],		"payable": false,		"stateMutability": "view",		"type": "function"	}];


var gas_estimate = 3000000;
var gas_price = web3.toWei(35, "gwei");

//todo: load dynamically
var firstAccount="0x281609b6005d3e3235230d9b88e5dd46f9078e76";
var contractAddress="0xDdc75D5126f9a68C6eF3330308dC71B3dCE4Ea60";

var contractAbi = eth.contract(ko_abi);
// web3.personal.unlockAccount("0x6fb69574ffd1de3a92b1b44e886f108934f0925f");
// var unlock = personal.unlockAccount("6fb69574ffd1de3a92b1b44e886f108934f0925f");
var myContract = contractAbi.at(contractAddress);
// suppose you want to call a function named myFunction of myContract
var getData = myContract.update.getData(850,850);

//var txHash = myContract.update(850,850,{
//    from: firstAccount,
//    gas: gas_estimate,
//    gasPrice: gas_price,
//  });

web3.eth.sendTransaction({to:contractAddress, from:firstAccount, data: getData, gas:gas_estimate, gasPrice:gas_price});

// console.log(myContract);

// finally pass this data parameter to send Transaction
// web3.eth.sendTransaction({to:Contractaddress, from:Accountaddress, data: getData});
